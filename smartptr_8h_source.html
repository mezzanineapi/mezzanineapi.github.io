<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>/home/Code/Mezzanine/Mezzanine/src/smartptr.h Source File</title>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="DoxyStyle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script> 
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;" nowrap="nowrap">
   <div id="projectname"><a href="http://blacktoppstudios.com"><img src="logogreen100pxtall.png"/></a>MezzanineEngine&#160;<span id="projectnumber">September&nbsp;24,&nbsp;2013</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_df2e1c8414b6a086be441ff04537838a.html">Mezzanine</a></li><li class="navelem"><a class="el" href="dir_2b71fc9949116feedacddb93a79d832d.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">smartptr.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="smartptr_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//Â© Copyright 2010 - 2013 BlackTopp Studios Inc.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* This file is part of The Mezzanine Engine.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    The Mezzanine Engine is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    The Mezzanine Engine is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    along with The Mezzanine Engine.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* The original authors have included a copy of the license specified above in the</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">   &#39;Docs&#39; folder. See &#39;gpl.txt&#39;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* We welcome the use of the Mezzanine engine to anyone, including companies who wish to</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">   Build professional software and charge for their product.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">   However there are some practical restrictions, so if your project involves</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">   any of the following you should contact us and we will try to work something</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">   out:</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">    - DRM or Copy Protection of any kind(except Copyrights)</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">    - Software Patents You Do Not Wish to Freely License</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">    - Any Kind of Linking to Non-GPL licensed Works</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">    - Are Currently In Violation of Another Copyright Holder&#39;s GPL License</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">    - If You want to change our code and not add a few hundred MB of stuff to</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        your distribution</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">   These and other limitations could cause serious legal problems if you ignore</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">   them, so it is best to simply contact us or the Free Software Foundation, if</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">   you have any questions.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">   Joseph Toppi - toppij@gmail.com</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   John Blackwood - makoenergy02@gmail.com</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#ifndef _smartptr_h</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _smartptr_h</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="datatypes_8h.html" title="All the definitions for datatypes as well as some basic conversion functions are defined here...">datatypes.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// @file</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// @brief This file describes and implements any pointers or typedefs to pointers that the Mezzanine uses and exposes in its API</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span><span class="keyword">namespace </span>Mezzanine</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{<span class="comment"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    /// @brief CountedPointer casting implementation states.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    /// @details</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">    /// The CountedPtrCast uses some template metaprogramming to include the correct cast at compile time</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    /// in the CountedPtr. In some situations it is difficult to cast from one kind of pointer to another</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    /// even when it is conceptually sound to do so. For example, when virtual inheritance is used</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">    /// downcasting can be difficult even when a pointer was just returned from one member of an object</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">    /// into another member of that object but from a member function whose interface specified a more</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    /// base return type. While possible to work around this normally, imagine the same situation if</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">    /// some of the types involved were templates.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739">   60</a></span>&#160;<span class="comment"></span>    <span class="keyword">enum</span> <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739" title="CountedPointer casting implementation states.">CountedPointerCastingState</a></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a80b6e8497f1239b63fb0bac739f5618f">   62</a></span>&#160;        <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a80b6e8497f1239b63fb0bac739f5618f" title="No Casting, any cast attempt results in a compilation Error.">CastNoneError</a>        = -2,      <span class="comment">///&lt; No Casting, any cast attempt results in a compilation Error.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae348e547d2f989d5704dca631120c733">   63</a></span>&#160;<span class="comment"></span>        <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae348e547d2f989d5704dca631120c733" title="No Casting, 0 is returned. Useful when types are unknown and dynamic casts are already used and check...">CastNoneReturnZero</a>   = -1,      <span class="comment">///&lt; No Casting, 0 is returned. Useful when types are unknown and dynamic casts are already used and checked.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae59dfba69bca041768bad858c2d34151">   64</a></span>&#160;<span class="comment"></span>        <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae59dfba69bca041768bad858c2d34151" title="Does no casting, but keeps types distinct. This should allow implicit casts to more base types...">CastImplicit</a>         = 1,       <span class="comment">///&lt; Does no casting, but keeps types distinct. This should allow implicit casts to more base types, and disallow casts to derived types.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881">   65</a></span>&#160;<span class="comment"></span>        <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881" title="A static cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastStatic</a>           = 2,       <span class="comment">///&lt; A static cast from the pointer as provided with no attempt to calls functions on the pointer target, this is default for externally reference counted pointers.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ab052c77358611ba65ad3a013cb430867">   66</a></span>&#160;<span class="comment"></span>        <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ab052c77358611ba65ad3a013cb430867" title="A dynamic cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastDynamic</a>          = 3        <span class="comment">///&lt; A dynamic cast from the pointer as provided with no attempt to calls functions on the pointer target, this is default for externally reference counted pointers.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span>    };</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Forward Declares Just about everything in this file</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// The Pointer itself</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html">   71</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TypePo<span class="keywordtype">int</span>edTo&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Externally callable casts</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt; <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#ab4224173a1ac42674b1ff813d72a1666" title="A compile time cast that uses only the implicit conversion of the underlying raw pointers.">CountedPtrCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt; <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#abca8f4d958804ca1c77b3d7cd41b2108" title="A compile time cast that uses static casting conversion of the underlying raw pointers but only works...">CountedPtrStaticCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt; <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#a5d26cc4afa9fedd9c998091d2d960784" title="A Runtime cast that uses dynamic casting conversion of the underlying raw pointers but only works on ...">CountedPtrDynamicCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// Casts the pointer uses internally for consistency.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html">   79</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er, CountedPo<span class="keywordtype">int</span>erCastingState&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;OriginalPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a80b6e8497f1239b63fb0bac739f5618f" title="No Casting, any cast attempt results in a compilation Error.">CastNoneError</a>&gt;;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae348e547d2f989d5704dca631120c733" title="No Casting, 0 is returned. Useful when types are unknown and dynamic casts are already used and check...">CastNoneReturnZero</a>&gt;;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881" title="A static cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastStatic</a>&gt;;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ab052c77358611ba65ad3a013cb430867" title="A dynamic cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastDynamic</a>&gt;;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>er&gt; Pointer* <a class="code" href="namespaceMezzanine.html#a4900c81f1a95d2da5d6309936b57b663" title="Used internally by CounterPtr to abstract away casts in the case where the return type would match th...">CountedPtrInternalCast</a>(Pointer* Original);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt; ReturnPointer* <a class="code" href="namespaceMezzanine.html#a4900c81f1a95d2da5d6309936b57b663" title="Used internally by CounterPtr to abstract away casts in the case where the return type would match th...">CountedPtrInternalCast</a>(<span class="keyword">const</span> OriginalPointer* Original);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits.html">   88</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1ReferenceCountTraits.html" title="This is used to deduce at compile if a specific class has built-in reference counting or needs an ext...">ReferenceCountTraits</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">    /// @brief This exists once per object managed by a group of shared pointer to track items in memory.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">    /// @details This exists to track the pointer to the managed object, and stores the single</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">    /// counter of existing references. Only one of these should be created for each group of</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    /// pointers managing the same object.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    /// @note It should be extremely rare to need to create one of these outside of pointer implemenation.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html">   97</a></span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TypePo<span class="keywordtype">int</span>edTo&gt; <span class="keyword">class </span><a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">ReferenceCount</a></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">            /// @brief  The Pointer that is the crux of this class, At this smart pointer&#39;s core there must be a raw pointer.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span>            TypePointedTo* Target;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">            /// @brief This is the Counter that stores how many references exist</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> RefCount;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">            /// @brief Constructor</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">            /// @param InitialPointer A pointer to the type of this template. This defaults to 0 if not provided</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">            /// @param InitialCount The number of references to default to this defaults to 1 if not provided.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#a665204be224695929234e56288689bf5">  110</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1ReferenceCount.html#a665204be224695929234e56288689bf5" title="Constructor.">ReferenceCount</a>(TypePointedTo* InitialPointer = 0, <span class="keywordtype">unsigned</span> InitialCount = 0)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                : Target(InitialPointer), RefCount(InitialCount)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                {}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">            /// @brief Destructor, cleans up the object when the last reference deletes this</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#aebb6da2291e2b7ca26dc5aba97c0d92b">  115</a></span>&#160;<span class="comment"></span>            <span class="keyword">virtual</span> <a class="code" href="classMezzanine_1_1ReferenceCount.html#aebb6da2291e2b7ca26dc5aba97c0d92b" title="Destructor, cleans up the object when the last reference deletes this.">~ReferenceCount</a>()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                { <span class="keyword">delete</span> Target; }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">            /// @brief Increase the reference count by one and return the updated count.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">            /// @return The updated count;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#ab56553edfc46754595a13e68a504441a">  120</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1ReferenceCount.html#ab56553edfc46754595a13e68a504441a" title="Increase the reference count by one and return the updated count.">IncrementReferenceCount</a>()</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                { <span class="keywordflow">return</span> ++RefCount; }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">            /// @brief Decrease the reference count by one and return the updated count.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">            /// @return The updated count;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#abb5c16a1b7c681e5a07293e03a49eb5d">  125</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1ReferenceCount.html#abb5c16a1b7c681e5a07293e03a49eb5d" title="Decrease the reference count by one and return the updated count.">DecrementReferenceCount</a>()</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                { <span class="keywordflow">return</span> --RefCount; }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">            /// @brief Gets the actual pointer to the target.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">            /// @return A Pointer of the targeted type to the object being managed.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#afd3b3a793ed254e60c66feb67ee436fc">  130</a></span>&#160;<span class="comment"></span>            TypePointedTo* <a class="code" href="classMezzanine_1_1ReferenceCount.html#afd3b3a793ed254e60c66feb67ee436fc" title="Gets the actual pointer to the target.">GetReferenceCountTargetAsPointer</a>()</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                { <span class="keywordflow">return</span> Target; }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">            /// @brief Get the current amount of references.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">            /// @return A Whole with the current reference count</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#ab102cffd94d92ca8605a7d2b392d133d">  135</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1ReferenceCount.html#ab102cffd94d92ca8605a7d2b392d133d" title="Get the current amount of references.">GetReferenceCount</a>()</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                { <span class="keywordflow">return</span> RefCount; }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">            /// @brief Get a pointer to the Target as a The most derived type in of this object*</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">            /// @return A pointer, for use with CountedPtrCast</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCount.html#a4f3d3f73d9abb1756ffc0a4c341d3898">  140</a></span>&#160;<span class="comment"></span>            <span class="keyword">virtual</span> TypePointedTo* <a class="code" href="classMezzanine_1_1ReferenceCount.html#a4f3d3f73d9abb1756ffc0a4c341d3898" title="Get a pointer to the Target as a The most derived type in of this object*.">GetMostDerived</a>()</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                { <span class="keywordflow">return</span> Target; }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    };</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    /// @brief A sample class that implements a minimal intrusive reference counting scheme.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">    /// @details It might work to inherit from this, however on some platforms multiple inheritance</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    /// comes with the exact same cost intrusive pointers are designed to avoid. This should be used</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    /// as an example of how to implement a reference counted object.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html">  148</a></span>&#160;<span class="comment"></span>    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">IntrusiveRefCount</a></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">            /// @brief This is the Counter that stores how many references exist</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> RefCount;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">            /// @brief Constructor for instatiating the Reference Count</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a8c0a45fcfed3d000e7c59f71259c091e">  156</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a8c0a45fcfed3d000e7c59f71259c091e" title="Constructor for instatiating the Reference Count.">IntrusiveRefCount</a>(): RefCount(0)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                {}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">            /// @brief Increase the reference count by one and return the updated count.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">            /// @return The updated count;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a350b36cefbaeceb11c2c150f44362860">  161</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a350b36cefbaeceb11c2c150f44362860" title="Increase the reference count by one and return the updated count.">IncrementReferenceCount</a>()</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                { <span class="keywordflow">return</span> ++RefCount; }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">            /// @brief Decrease the reference count by one and return the updated count.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">            /// @return The updated count;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a58532cea9e9c0017e54c6c724a8cd147">  166</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a58532cea9e9c0017e54c6c724a8cd147" title="Decrease the reference count by one and return the updated count.">DecrementReferenceCount</a>()</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                { <span class="keywordflow">return</span> --RefCount; }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">            /// @brief Gets the actual pointer to the target.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">            /// @return A Pointer of the targeted type to the object being managed.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#acf7d915b4b3047f3fba8bdf8367ff79d">  171</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">IntrusiveRefCount</a>* <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#acf7d915b4b3047f3fba8bdf8367ff79d" title="Gets the actual pointer to the target.">GetReferenceCountTargetAsPointer</a>()</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">this</span>; }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">            /// @brief Get the current amount of references.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">            /// @return A Whole with the current reference count</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a4682ab0cf23aecc3fceca1ca5b5c3081">  176</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a4682ab0cf23aecc3fceca1ca5b5c3081" title="Get the current amount of references.">GetReferenceCount</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keyword">                </span>{ <span class="keywordflow">return</span> RefCount; }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">            /// @brief Get a pointer to the most Derived type of this class</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">            /// @return A pointer of the most derived pointing to this.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a7cda00a0e5a172db0cd380dc658b399a">  181</a></span>&#160;<span class="comment"></span>            <span class="keyword">virtual</span> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">IntrusiveRefCount</a>* <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#a7cda00a0e5a172db0cd380dc658b399a" title="Get a pointer to the most Derived type of this class.">GetMostDerived</a>()</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">this</span>; }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">            /// @brief Virtual Deconstructor to prevent issues with deletion with incomplete type information</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#ae4db99c87581f863804c7d45e4f237a9">  185</a></span>&#160;<span class="comment"></span>            <span class="keyword">virtual</span> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html#ae4db99c87581f863804c7d45e4f237a9" title="Virtual Deconstructor to prevent issues with deletion with incomplete type information.">~IntrusiveRefCount</a>() {}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    };</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">    /// @brief This is used to deduce at compile if a specific class has built-in reference counting or needs an external reference count.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    /// @details Every class that does not implement its own reference count gets this default one.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    /// The Default reference count is not thread-safe, and requires that every dereferencing</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">    /// of the smart pointer has the cost of a double dereference. The double dereference is caused because</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    /// the reference counter has to store a native pointer to the managed object. In benchmarks</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">    /// included with the Unit tests this seems to increase dereference time by about double.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    /// @n @n</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    /// Any class that provides TypePointedTo* GetReferenceCountTargetAsPointer(), Whole GetReferenceCount(),</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    /// Whole IncrementReferenceCount(), Whole DecrementReferenceCount()</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    /// and something* GetMostDerived() (which need to be virtual if inheritance is used to be useful) can be used as a reference</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">    /// counter. If it provides these then a specialization of ReferenceCountTraits should be implemented for a given class</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">    /// and CountedPtr will use the type defined by ReferenceCountTraits&lt;T&gt;::RefCountType as the counter. @n @n</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    /// The Mezzanine provides a Reference count class that can be used with any type at the cost of</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">    /// extra dereferences. Some types (Scripts) have their own internal reference count that when used</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    /// will increase the locality (since the reference count is part of the managed object) and reduce</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    /// dereferences to exactly one. Since the CountedPtr is the size of a native pointer if it is used</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    /// with an internal reference count, the only signifigant overhead should be the counting itself.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">class </span>ReferenceCountTraits</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">            /// @brief This is type of the ReferenceCounter, The type of the class if reference counting is instrusive.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#abcc7e0da881f56261552049b1ce25223">  211</a></span>&#160;<span class="comment"></span>            <span class="keyword">typedef</span> <a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">ReferenceCount&lt;T&gt;</a> <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#abcc7e0da881f56261552049b1ce25223" title="This is type of the ReferenceCounter, The type of the class if reference counting is instrusive...">RefCountType</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">            /// @brief This will somehow return a pointer to the reference count</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">            /// @param Target A pointer the freshly created object.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">            /// @return This will return a pointer to a valid reference counter.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">            /// @note The default implemetation call new with a matching delete in CounterPtr::~CountedPtr . If no allocations are required this may simply return the passed parameter.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#af2dc014ba4325922e45902ed8f7392c7">  217</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> <a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">RefCountType</a>* <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#af2dc014ba4325922e45902ed8f7392c7" title="This will somehow return a pointer to the reference count.">ConstructionPointer</a>(T* Target)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#abcc7e0da881f56261552049b1ce25223" title="This is type of the ReferenceCounter, The type of the class if reference counting is instrusive...">RefCountType</a>(Target); }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">            /// @brief Used to determine if the data a CountedPtr is managing can be cast</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">            /// @details This uses the @ref CountedPointerCastingState to enter a value the Template MetaProgramming Machinery will understand.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span>            <span class="keyword">enum</span> { IsCastable = <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881" title="A static cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastStatic</a> };</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    };</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">    /// @brief An Example ReferenceCountTraits implmentation.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    /// @details Anything with an internal Reference should implement a specialization of this template</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    /// that defines PtrType to be a pointer to the structure with the reference count interface in</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    /// to the items defined in the main ReferenceCountTraits documentation.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits_3_01IntrusiveRefCount_01_4.html">  230</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1ReferenceCountTraits.html" title="This is used to deduce at compile if a specific class has built-in reference counting or needs an ext...">ReferenceCountTraits</a> &lt;<a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">IntrusiveRefCount</a>&gt;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">            /// @brief The sample internal reference count needs to indicate that the managed type is the same as the ReferenceCountType, because it will have a counter.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits_3_01IntrusiveRefCount_01_4.html#a8514b1b631b47de54f148026bf2c714b">  234</a></span>&#160;<span class="comment"></span>            <span class="keyword">typedef</span> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">IntrusiveRefCount</a> <a class="code" href="classMezzanine_1_1ReferenceCountTraits_3_01IntrusiveRefCount_01_4.html#a8514b1b631b47de54f148026bf2c714b" title="The sample internal reference count needs to indicate that the managed type is the same as the Refere...">RefCountType</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">            /// @brief Because The reference count is allocated when the caller created the target this does not need to allocate a Reference count separetaly.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">            /// @param The create object to manage.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">            /// @return This is expected to return a valid reference count, since the reference count is in the target, this returns whatever was passed in,</span></div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="code" href="classMezzanine_1_1ReferenceCountTraits_3_01IntrusiveRefCount_01_4.html#ab13974a9bf7e7b4363ec09d28e6845cc">  239</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> <a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">RefCountType</a>* <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html#af2dc014ba4325922e45902ed8f7392c7" title="This will somehow return a pointer to the reference count.">ConstructionPointer</a>(<a class="code" href="classMezzanine_1_1IntrusiveRefCount.html" title="A sample class that implements a minimal intrusive reference counting scheme.">RefCountType</a>* Target)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                { <span class="keywordflow">return</span> Target; }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">            /// @brief What kind of casting should be done when the target must be down(or side) cast.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span>            <span class="keyword">enum</span> { IsCastable = <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881" title="A static cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastStatic</a>};</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    };</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    /// @brief This exists to conceal internal type detection mechanisms making internal and external reference couting different.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span>    <span class="keyword">namespace</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {<span class="comment"></span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">        /// @brief This handles the case of needing to adjust the reference count of covariant pointers all covariant pointer must use internal reference counts</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> CurrentReferenceCountType, <span class="keyword">typename</span> OtherReferenceCountType&gt;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keyword">class </span>ReferenceCountAdjuster</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">                /// @brief Gain a copy of the reference counter with appropriate type data.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">                /// @param UpdateCounter A reference to a pointer that the CounterPtr wants to point at the correct reference count</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">                /// @param OtherCounter A reference to a pointer that is pointing to the refence counter we want to acquire</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span>                <span class="keyword">static</span> <span class="keywordtype">void</span> Acquire(CurrentReferenceCountType* &amp; UpdateCounter, OtherReferenceCountType* &amp; OtherCounter)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    { UpdateCounter = CountedPtrInternalCast&lt;CurrentReferenceCountType&gt;(OtherCounter-&gt;GetMostDerived()); }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        };</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">        /// @brief The logic is much simpler when covariant types are not involved, this will acwuire a reference counter</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">        /// @details Incidentally this should work for internal reference counts that are of identical type and all external reference counts.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> InternalReferenceCount&gt;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keyword">class </span>ReferenceCountAdjuster&lt;InternalReferenceCount,InternalReferenceCount&gt;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">                /// @brief Gain a copy of the reference counter which already has appropriate type data.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">                /// @param UpdateCounter A reference to a pointer that the CounterPtr wants to point at the correct reference count.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">                /// @param OtherCounter A reference to a pointer that is pointing to the refence counter we want to acquire.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>                <span class="keyword">static</span> <span class="keywordtype">void</span> Acquire(InternalReferenceCount* &amp; UpdateCounter, InternalReferenceCount* &amp; OtherCounter)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    { UpdateCounter = OtherCounter; }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        };</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">    /// @brief A simple reference counting pointer.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    /// @details This is a pointer that automatically deallocates the object it manages when</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    /// all CountedPtr intances managing it are destroyed or fall out of scope. This is a</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">    /// simpler version of std::shared_ptr.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">    /// @warning This is not thread safe by default.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    /// @warning If you intead to have covariant pointers (Multiple pointers to the same item but with different type date, like more base or more derived pointers) all classes pointed to must have virtual deconstructors</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">    /// @note The basis of this class originated externally, please see the counted pointer</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    /// from http://ootips.org/yonat/4dev/smart-pointers.html which came with written permission</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    /// for use stated as &quot;Feel free to use my own smart pointers in your code&quot; on that page.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    ///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TypePo<span class="keywordtype">int</span>edTo&gt;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">class </span>CountedPtr</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">            /// @brief The non pointer version of PtrType</span></div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a5049e9157bf5a997625b6189da55474b">  292</a></span>&#160;<span class="comment"></span>            <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">ReferenceCountTraits&lt;TypePointedTo&gt;::RefCountType</a> <a class="code" href="classMezzanine_1_1CountedPtr.html#a5049e9157bf5a997625b6189da55474b" title="The non pointer version of PtrType.">RefCountType</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">            /// @brief This makes referencing the type of the pointer object easier for external classes.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a3bad88b1ac4c311ca63891bc5689582b">  295</a></span>&#160;<span class="comment"></span>            <span class="keyword">typedef</span> TypePointedTo <a class="code" href="classMezzanine_1_1CountedPtr.html#a3bad88b1ac4c311ca63891bc5689582b" title="This makes referencing the type of the pointer object easier for external classes.">element_type</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">            /// @brief declare all pointers as friends so they can reference eachother _ReferenceCounter.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#ae7db19162dcfa97421b8b546221a8fa0">  298</a></span>&#160;<span class="comment"></span>            <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>er&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">            /// @brief Static casting can access internals also</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span>            <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt; <span class="keyword">friend</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="classMezzanine_1_1CountedPtr.html#aa5e76047ecb1b7b19bd7745475e82cce" title="Static casting can access internals also.">CountedPtrStaticCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keyword">protected</span>:<span class="comment"></span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">            /// @brief This is the only data on this class, a pointer to the counter and the managed object.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7">  304</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">RefCountType</a>* <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">            /// @brief Have this pointer point at the same thing another pointer points to,</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">            /// @param CounterToAcquire The ReferenceCounter that this pointer will use.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">            /// @warning This does not Release the previous Reference counter. This means it is possible leak memory if a ReferenceCounter is acquired that differs from the previous one without plans to manage the original.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throw exceptions, unless debug logging is enabled, then it can throw any exception the logger can throw.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span>            <span class="keyword">template</span> &lt;<span class="keyword">typename</span> AnyReferenceCountType&gt;</div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da">  311</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>(AnyReferenceCountType* CounterToAcquire) <span class="keywordflow">throw</span>()</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                ReferenceCountAdjuster&lt;RefCountType, AnyReferenceCountType&gt;::Acquire(<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>, CounterToAcquire);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                       { <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#ab56553edfc46754595a13e68a504441a" title="Increase the reference count by one and return the updated count.">IncrementReferenceCount</a>(); }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">            /// @brief This decrements the reference count and deletes the managed items if there are no remaining references.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715">  319</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715" title="This decrements the reference count and deletes the managed items if there are no remaining reference...">Release</a>() throw()</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#abb5c16a1b7c681e5a07293e03a49eb5d" title="Decrease the reference count by one and return the updated count.">DecrementReferenceCount</a>() == 0)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                        <span class="keyword">delete</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>; <span class="comment">// deleting a ReferenceCount should clean up the target object in its destructor, if we are deleting something intrusively reference counted this does</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> = 0;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">            /// @brief If required create a reference counter and point this at the passed pointer.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">            /// @param PointerTarget the Pointer to take ownership of.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a3cce00e9d7683271d77e8ede266b068e">  333</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a3cce00e9d7683271d77e8ede266b068e" title="If required create a reference counter and point this at the passed pointer.">FirstAcquire</a>(TypePointedTo* PointerTarget)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>( <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html" title="This is used to deduce at compile if a specific class has built-in reference counting or needs an ext...">ReferenceCountTraits&lt;TypePointedTo&gt;::ConstructionPointer</a>(PointerTarget) ); }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">            /// @brief Initializing Constructor</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">            /// @details This should only be used for initial creation of a shared pointer group. This will allocate the raw</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">            /// pointer and the ReferenceCounter that will be used to track the pointer passed. This will only be explicitly</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">            /// called to prevent accidental premature deletion of the item managed.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">            /// @n @n It is quite easy to accidentally</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">            /// make a secondary group of counted pointers if not using the new statement inline with this constructor, and it is</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">            /// not recomended to use this in any other way. Here is an example of the recommended way to use new inline with this:</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">            /// &quot;Mezzanine::CountedPtr&lt;Mezzanine::Vector3&gt; VecPtr (new Mezzanine::Vector3);&quot;</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">            /// @param PointerTarget The item that will be deleted once all the pointer of this group disappear.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#ab53831e2af99d19396cfab5016c640bd">  346</a></span>&#160;<span class="comment"></span>            <span class="keyword">explicit</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#ae7db19162dcfa97421b8b546221a8fa0" title="declare all pointers as friends so they can reference eachother _ReferenceCounter.">CountedPtr</a>(TypePointedTo* PointerTarget = 0) throw()</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">if</span>(PointerTarget)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    { <a class="code" href="classMezzanine_1_1CountedPtr.html#a3cce00e9d7683271d77e8ede266b068e" title="If required create a reference counter and point this at the passed pointer.">FirstAcquire</a>(PointerTarget); }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    { <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> = NULL; }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">            /// @brief Deconstructor, Just calls Release().</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a8f9ed87946e558881b33070519764240">  355</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1CountedPtr.html#a8f9ed87946e558881b33070519764240" title="Deconstructor, Just calls Release().">~CountedPtr</a>() throw()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715" title="This decrements the reference count and deletes the managed items if there are no remaining reference...">Release</a>(); }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">            /// @brief Copy constructor</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">            /// @param Original The pointer being copied. This fresh pointer will use the same ReferenceCounter as the original.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">            /// @throw Nothing This member function does throws exceptions.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a6cfa958ec832f805959518cb9eeb8302">  361</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1CountedPtr.html#ae7db19162dcfa97421b8b546221a8fa0" title="declare all pointers as friends so they can reference eachother _ReferenceCounter.">CountedPtr</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>&amp; Original) <span class="keywordflow">throw</span>()</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>( Original._ReferenceCounter ); }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">            /// @brief Casting copy constructor</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">            /// @param Original The CountedPtr being copied. This fresh pointer will use the same ReferenceCounter as the original.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">            /// @throw Nothing This member function does throws exceptions, unless the casting mechanism throws, which it shouldn&#39;t.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span>            <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a2bae524490b6dba55bbe501cb9ff1067">  368</a></span>&#160;            <a class="code" href="classMezzanine_1_1CountedPtr.html#ae7db19162dcfa97421b8b546221a8fa0" title="declare all pointers as friends so they can reference eachother _ReferenceCounter.">CountedPtr</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointer&gt;</a>&amp; Original) <span class="keywordflow">throw</span>() : <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>(NULL)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="comment">//Acquire( CountedPtr&lt;TypePointedTo&gt;(Original)._ReferenceCounter );</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>( Original._ReferenceCounter );</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">            /// @brief Reset this to point at nothing.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1">  375</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a>()</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715" title="This decrements the reference count and deletes the managed items if there are no remaining reference...">Release</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> = NULL;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">            /// @copydoc Reset()</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#ab7183bd295910f8a43b3eff118ff17bf">  383</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#ab7183bd295910f8a43b3eff118ff17bf" title="Reset this to point at nothing. ">reset</a>()</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a>(); }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">            /// @brief Reset this to point at the same as another CountedPtr of the same type.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">            /// @param Other Another CountedPtr which will share ownership of the target.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a155b9da33dc7ca0ed48df08f5a46a4a4">  388</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;TypePointedTo&gt;</a>&amp; Other)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;Other) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715" title="This decrements the reference count and deletes the managed items if there are no remaining reference...">Release</a>();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>(Other._ReferenceCounter);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">            /// @copydoc Reset(const CountedPtr&lt;TypePointedTo&gt;&amp;)</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a966f5b0ede3ea960e9afdf8173b87075">  398</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#ab7183bd295910f8a43b3eff118ff17bf" title="Reset this to point at nothing. ">reset</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;TypePointedTo&gt;</a>&amp; Other)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a>(Other); }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">            /// @brief Take ownership of the passed pointer.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">            /// @param PointerTarget The pointer to assume ownership of.</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a3bf18b0278f6b29540d22f809ebe39bf">  403</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a>(TypePointedTo* PointerTarget)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordflow">if</span>(PointerTarget)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    { <a class="code" href="classMezzanine_1_1CountedPtr.html#a3cce00e9d7683271d77e8ede266b068e" title="If required create a reference counter and point this at the passed pointer.">FirstAcquire</a>(PointerTarget); }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    { <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> = NULL; }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">            /// @copydoc Reset(TypePointedTo*)</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#aa2ace3eb0eec9ffa2fdcef2df29cd14d">  413</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">void</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#ab7183bd295910f8a43b3eff118ff17bf" title="Reset this to point at nothing. ">reset</a>(TypePointedTo* PointerTarget)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                { <a class="code" href="classMezzanine_1_1CountedPtr.html#a69254cff8b760916d88f7181c714dba1" title="Reset this to point at nothing.">Reset</a> (PointerTarget); }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">            /// @brief Get the current count of references.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">            /// @note This name was chosen to match standard compliant names, and should be usable in templates that require this function.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">            /// @return The amount of references which still exist, or 0 if the reference counter is somehow invalid.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throws exceptions.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#abe44fb8d85954d63e3d06e7a88611a11">  420</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1CountedPtr.html#abe44fb8d85954d63e3d06e7a88611a11" title="Get the current count of references.">UseCount</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> ? <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#ab102cffd94d92ca8605a7d2b392d133d" title="Get the current amount of references.">GetReferenceCount</a>() : 0; }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">            /// @copydoc UseCount</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#af7a59d2a510912444ba6123585b4b01d">  425</a></span>&#160;<span class="comment"></span>            <a class="code" href="namespaceMezzanine.html#adcbb6ce6d1eb4379d109e51171e2e493" title="Whole is an unsigned integer, it will be at least 32bits in size.">Whole</a> <a class="code" href="classMezzanine_1_1CountedPtr.html#af7a59d2a510912444ba6123585b4b01d" title="Get the current count of references. ">use_count</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#abe44fb8d85954d63e3d06e7a88611a11" title="Get the current count of references.">UseCount</a>(); }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">            /// @brief Assignement operator</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">            /// @details This safely handles the semantics or release the previously assigned object and acquiring the new</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">            /// managed object. This performs basic checks as expected.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">            /// @param Other The Item on the right hand side of the &#39;=&#39;, which this class instance will copy.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">            /// @return A reference to this.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#afccd80ffc3d1e940b26dbbec0653e0f9">  433</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>&amp; <a class="code" href="classMezzanine_1_1CountedPtr.html#afccd80ffc3d1e940b26dbbec0653e0f9" title="Assignement operator.">operator=</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>&amp; Other) <span class="keywordflow">throw</span>()</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;Other) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    <a class="code" href="classMezzanine_1_1CountedPtr.html#aedb1e5da381fcbf10c7737d4383fb715" title="This decrements the reference count and deletes the managed items if there are no remaining reference...">Release</a>();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <a class="code" href="classMezzanine_1_1CountedPtr.html#a8928e944ee2b9f069421242ed0d3f0da" title="Have this pointer point at the same thing another pointer points to,.">Acquire</a>(Other._ReferenceCounter);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">            /// @brief Dereference operator.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">            /// @return The managed object is returned by reference.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throw exceptions.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a9fbe491e40d8adbaa372890501dcc5b1">  445</a></span>&#160;<span class="comment"></span>            TypePointedTo&amp; <a class="code" href="classMezzanine_1_1CountedPtr.html#a9fbe491e40d8adbaa372890501dcc5b1" title="Dereference operator.">operator*</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                { <span class="keywordflow">return</span> *(<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#afd3b3a793ed254e60c66feb67ee436fc" title="Gets the actual pointer to the target.">GetReferenceCountTargetAsPointer</a>()); }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">            /// @brief The Structure dereference operator.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">            /// @return Makes it appear, syntactically, as though you are dereferencing the raw pointer.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throw exceptions.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a88d0f8a1a22daa3a06394aa1430a6299">  451</a></span>&#160;<span class="comment"></span>            TypePointedTo* <a class="code" href="classMezzanine_1_1CountedPtr.html#a88d0f8a1a22daa3a06394aa1430a6299" title="The Structure dereference operator.">operator-&gt;</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                { <span class="keywordflow">return</span> CountedPtrInternalCast&lt;TypePointedTo&gt;(<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#a4f3d3f73d9abb1756ffc0a4c341d3898" title="Get a pointer to the Target as a The most derived type in of this object*.">GetMostDerived</a>()); }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">            /// @brief Get the raw pointer to the managed object.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">            /// @return The raw pointer to the managed object or 0 if this pointer is invalid.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throw exceptions.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">            /// @note This name was chosen to match standard compliant names, and should be usable in templates that require this function.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#aac0ded0cddc359ddea1f557fe796095e">  458</a></span>&#160;<span class="comment"></span>            TypePointedTo* <a class="code" href="classMezzanine_1_1CountedPtr.html#aac0ded0cddc359ddea1f557fe796095e" title="Get the raw pointer to the managed object.">Get</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                { <span class="keywordflow">return</span> CountedPtrInternalCast&lt;TypePointedTo&gt;(<a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#a4f3d3f73d9abb1756ffc0a4c341d3898" title="Get a pointer to the Target as a The most derived type in of this object*.">GetMostDerived</a>()); }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">            /// @copydoc Get</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a6f00c38226d1ae4f7797fe5944a53333">  463</a></span>&#160;<span class="comment"></span>            TypePointedTo* <span class="keyword">get</span>() <span class="keyword">const</span> <span class="keywordflow">throw</span>()</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#aac0ded0cddc359ddea1f557fe796095e" title="Get the raw pointer to the managed object.">Get</a>(); }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">            /// @brief Is this the only pointer to the managed object</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">            /// @return True if use_count() == 1 or if the pointer is invalid</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">            /// @throw Nothing This member function does not throw exceptions.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">            /// @note This name was chosen to match standard compliant names, and should be usable in templates that require this function.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#aade173bb7d89add8eaed344b358eadf4">  470</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">bool</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#aade173bb7d89add8eaed344b358eadf4" title="Is this the only pointer to the managed object.">Unique</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a> ? <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>-&gt;<a class="code" href="classMezzanine_1_1ReferenceCount.html#ab102cffd94d92ca8605a7d2b392d133d" title="Get the current amount of references.">GetReferenceCount</a>()==1 : <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">            /// @copydoc Unique</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">            /// @note Provided to match method names on standard smart pointers</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#ae991b2beca4077dc40c53110bc97308c">  475</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">bool</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#ae991b2beca4077dc40c53110bc97308c" title="Is this the only pointer to the managed object. ">unique</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#aade173bb7d89add8eaed344b358eadf4" title="Is this the only pointer to the managed object.">Unique</a>(); }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">            /// @brief A comparision of two CountedPtr instances</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">            /// @details This is used to see if this and another CountedPtr are managing the same</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">            /// object and are part of the same group of CountedPtr managing that object.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">            /// @param Other The CountedPtr on the right hand side of the ==</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">            /// @return This returns true if this and Other use the same reference count and pointer.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a568399115faa2872525933a4baf24c67">  483</a></span>&#160;<span class="comment"></span>            <span class="keywordtype">bool</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a568399115faa2872525933a4baf24c67" title="A comparision of two CountedPtr instances.">operator==</a>(<span class="keyword">const</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr</a>&amp; Other) <span class="keyword">const</span> <span class="keywordflow">throw</span>()</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                { <span class="keywordflow">return</span> Other._ReferenceCounter == <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>; }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">            /// @brief Returns true if this pointer points to something.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">            /// @warning Without C++11 this can be accidentally easily be cast to a bool and can do sill things.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#ac51e34d919592035a7829e23a67e66e2">  488</a></span>&#160;<span class="comment"></span>            <span class="keyword">operator</span> bool() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                { <span class="keywordflow">return</span> 0 != <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>; }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">            /// @brief Get the internal Reference count</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">            /// @return A pointer to internal reference count of this pointer.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtr.html#a2e56fb6b7fdfca4aa1c2b71e875e9589">  494</a></span>&#160;<span class="comment"></span>            <a class="code" href="classMezzanine_1_1ReferenceCount.html" title="This exists once per object managed by a group of shared pointer to track items in memory...">RefCountType</a>* <a class="code" href="classMezzanine_1_1CountedPtr.html#a2e56fb6b7fdfca4aa1c2b71e875e9589" title="Get the internal Reference count.">GetReferenceCount</a>() <span class="keyword">const</span> throw()</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html#a4228191231e5973125972a17047b02c7" title="This is the only data on this class, a pointer to the counter and the managed object.">_ReferenceCounter</a>; }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    };</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">    /// @brief This is used as to determine how a CountedPtr performs castin between pointer types internally.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">    /// @details The default implementation for internal casting in the CountedPtr  Simply throws an exception.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">    /// @n @n</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">    /// This Should never actually get called. Though it is the default template instance</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">    /// the default ReferenceCountTraits uses the CastNoneError specialization of this template.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">    /// @n @n</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">    /// The ReferenceCountTraits for the CountedPtr&lt;Type&gt; should declare what kind castint should be used by</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">    /// declaring an enumeration called &#39;IsCastable&#39; and assigning the desired casting type.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">    /// @code</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">    /// enum { IsCastable = CastStaticVirtual };</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">    /// @endcode</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">    /// @param ReturnPointer The type of pointer that the functions on the CountedPtr must return</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">    /// @param OriginalPointer The actual type the CountedPtr is maintaining as a target.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">    /// @param CountedPointerCastingState Any value in the @ref CountedPointerCastingState to indicate kind of casting.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">    /// @details For any case that uses CastNoneError including the default.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er, CountedPo<span class="keywordtype">int</span>erCastingState&gt;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keyword">class </span>CountedPtrCastImpl</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">            /// @brief Do not cast, rather fail.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">            /// @return Always fails by throwing</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">            /// @throw Always throws a 0</span></div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93">  522</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> ReturnPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="comment">// #error Invalid Casting value for CountedPtr cast</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keywordflow">throw</span>(0); <span class="comment">/// @todo make this conditionally fail to compile.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"></span>                <span class="keywordflow">return</span> ReturnPointer(0);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    };</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">    /// @brief An implementation of the CountedPtrCast that always return the pointer passed reached via CastNoneError in the ReferenceCountTraits of the target class.</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the original pointer and return value must match exactly</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">    /// @note Since this requires both matching pointer types and CastNoneError to be present in the ReferenceCountTraits This should produce a compilation error when somethign is set wrong.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01OriginalPointer_00_01OriginalPointer_00_01CastNoneError_01_4.html">  536</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;OriginalPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a80b6e8497f1239b63fb0bac739f5618f" title="No Casting, any cast attempt results in a compilation Error.">CastNoneError</a>&gt;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">            /// @brief This literally does nothing and returns the value passed, so simple all but the dumbest compilers will optimize it away at compile time.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">            /// @return Whatever was passed.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01OriginalPointer_00_01OriginalPointer_00_01CastNoneError_01_4.html#adea9281b18923c2b8d3442730c013ae7">  542</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> OriginalPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer Original)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                { <span class="keywordflow">return</span> Original; }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    };</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">    /// @brief An implementation of the CountedPtrCast that always returns 0 cast to the original pointer type. Reached by putting CastNoneReturnZero in the ReferenceCountTraits of the target class.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">    /// @param ReturnPointer The type of the NULL pointer to create.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the pointer prior to casting.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastNoneReturnZero_01_4.html">  551</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae348e547d2f989d5704dca631120c733" title="No Casting, 0 is returned. Useful when types are unknown and dynamic casts are already used and check...">CastNoneReturnZero</a>&gt;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">            /// @brief This accepts a parameter solely for compatibility with other templates and always returns 0.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">            /// @return Always 0</span></div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastNoneReturnZero_01_4.html#acd3357ffe9ea6b9486e1fa69a670b410">  557</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> ReturnPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                { <span class="keywordflow">return</span> ReturnPointer(0); }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    };</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">    /// @brief An implementation of the CountedPtrCast that casts the passed pointer. Reached by putting CastStatic in the ReferenceCountTraits of the target class.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">    /// @param ReturnPointer The type of the pointer to target with the static cast</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the pointer prior to casting.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastImplicit_01_4.html">  566</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ae59dfba69bca041768bad858c2d34151" title="Does no casting, but keeps types distinct. This should allow implicit casts to more base types...">CastImplicit</a>&gt;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">            /// @brief Simply static cast the passed pointer.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">            /// @param Original the passed pointer.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">            /// @return The pointer after the cast.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">            /// @note This will almost certainly never actually exists as a function, in even basic testing the compiles completely optimizes this out during compilation.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastImplicit_01_4.html#a3f70ddf46f38087a2067896e2bc88944">  574</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> ReturnPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer Original)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ReturnPointer<span class="keyword">&gt;</span>(Original); }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    };</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">    /// @brief An implementation of the CountedPtrCast that naively static casts the passed pointer. Reached by putting CastStatic in the ReferenceCountTraits of the target class.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">    /// @param ReturnPointer The type of the pointer to target with the static cast</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the pointer prior to casting.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastStatic_01_4.html">  583</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739a823a0503378eda9a9d1a1916a4d1e881" title="A static cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastStatic</a>&gt;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">            /// @brief Simply static cast the passed pointer.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">            /// @param Original the passed pointer.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">            /// @return The pointer after the cast.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">            /// @note This will almost certainly never actually exists as a function, in even basic testing the compiles completely optimizes this out during compilation.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastStatic_01_4.html#a6d681b6c0fec62e5039dbedca0bfa8e7">  591</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> ReturnPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer Original)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>ReturnPointer<span class="keyword">&gt;</span>(Original); }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    };</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">    /// @brief An implementation of the CountedPtrCast that naively dynamic casts the passed pointer. Reached by putting CastDynamic in the ReferenceCountTraits of the target class.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">    /// @param ReturnPointer The type of the pointer to target with the dynamic cast.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the pointer prior to casting.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastDynamic_01_4.html">  600</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a> &lt;ReturnPointer, OriginalPointer, <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739ab052c77358611ba65ad3a013cb430867" title="A dynamic cast from the pointer as provided with no attempt to calls functions on the pointer target...">CastDynamic</a>&gt;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">            /// @internal</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">            /// @brief Simply dynamic cast the passed pointer.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">            /// @param Original the passed pointer.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">            /// @return The pointer after the cast.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">            /// @note This will almost certainly never actually exists as a function, tests show this as performant as a normal call to dynamic_cast.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="code" href="classMezzanine_1_1CountedPtrCastImpl_3_01ReturnPointer_00_01OriginalPointer_00_01CastDynamic_01_4.html#ac5de40306570a8658a1ca6a4d93a317a">  608</a></span>&#160;<span class="comment"></span>            <span class="keyword">static</span> ReturnPointer <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html#a3601c78b166b525098e8a2b2c95f3f93" title="Do not cast, rather fail.">Cast</a>(OriginalPointer Original)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                { <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>ReturnPointer<span class="keyword">&gt;</span>(Original); }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    };</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">    /// @brief Used internally by CounterPtr to abstract away casts in the case where the return type would *NOT* match the input type.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">    /// @param ReturnPointer The type of the pointer to target after using the Casting Strategy described in the classes ReferenceCountTraits.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">    /// @param OriginalPointer The type of the pointer prior to casting.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">    /// @note The function argument Original is of type const OriginalPointer. When search for possible matching functions an template a compiler prioritizes functions that are off by just a CV qualifier ahead of those that it would need to implicitly cast to call. So if the to pointer types match exactly this will not be called.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">    /// @param Original The Pointer to cast which must be exactly of the type OriginalPointer(Which might be inferable).</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">    /// @return A pointer of the type ReturnPointer after the desired casting strategy has been used.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnPo<span class="keywordtype">int</span>er, <span class="keyword">typename</span> OriginalPo<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#a81cb2e3c87ff45317e47ac082e60ad32">  620</a></span>&#160;    ReturnPointer* <a class="code" href="namespaceMezzanine.html#a4900c81f1a95d2da5d6309936b57b663" title="Used internally by CounterPtr to abstract away casts in the case where the return type would match th...">CountedPtrInternalCast</a>(<span class="keyword">const</span> OriginalPointer* Original)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">return</span>  <a class="code" href="classMezzanine_1_1CountedPtrCastImpl.html" title="This is used as to determine how a CountedPtr performs castin between pointer types internally...">CountedPtrCastImpl</a></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            &lt;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                ReturnPointer*,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                OriginalPointer*,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <a class="code" href="namespaceMezzanine.html#ad937b4d169586b963a9545c39fe66739" title="CountedPointer casting implementation states.">CountedPointerCastingState</a></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    (</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                        <a class="code" href="classMezzanine_1_1ReferenceCountTraits.html" title="This is used to deduce at compile if a specific class has built-in reference counting or needs an ext...">ReferenceCountTraits&lt;OriginalPointer&gt;::IsCastable</a></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    )</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            &gt;::Cast(</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                        const_cast&lt;OriginalPointer*&gt;(Original) <span class="comment">// cast away the constness we just added</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                    );</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">    /// @internal</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    /// @brief Used internally by CounterPtr to abstract away casts in the case where the return type would match the input type.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">    /// @details This enforces the logic that cast should only be performed inside the CountedPtr when a cast is required. This</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">    /// also has the advantage of not performing meaningless extra casts if a runtime cast is used, so it coudl enhance performance.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">    /// @param Pointer The only type of pointers involved.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">    /// @param Original The pointer that needs to be checked to see if it should be cast and this compilation case does not require it.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">    /// @return The value passed in Original.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>er&gt;</div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#a4900c81f1a95d2da5d6309936b57b663">  643</a></span>&#160;    Pointer* <a class="code" href="namespaceMezzanine.html#a4900c81f1a95d2da5d6309936b57b663" title="Used internally by CounterPtr to abstract away casts in the case where the return type would match th...">CountedPtrInternalCast</a>(Pointer* Original)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        { <span class="keywordflow">return</span>  Original; }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">    /// @brief A compile time cast that uses only the implicit conversion of the underlying raw pointers</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">    /// @param ReturnType The type to be returned, must be specified</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">    /// @param OtherPointerTargetType The type of the provided pointer, this can be infered and should not be provided.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">    /// @param Original The pointer to convert.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">    /// @return Either a pointer of the desired or a compilation error</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt;</div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#ab4224173a1ac42674b1ff813d72a1666">  652</a></span>&#160;    <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#ab4224173a1ac42674b1ff813d72a1666" title="A compile time cast that uses only the implicit conversion of the underlying raw pointers.">CountedPtrCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a>(Original); }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">    /// @brief A compile time cast that uses static casting conversion of the underlying raw pointers but only works on internally reference count types</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">    /// @param ReturnType The type to be returned, must be specified</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">    /// @param OtherPointerTargetType The type of the provided pointer, this can be infered and should not be provided.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">    /// @param Original The pointer to convert.</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">    /// @return Either a pointer of the desired or a compilation error</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt;</div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#abca8f4d958804ca1c77b3d7cd41b2108">  661</a></span>&#160;    <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#abca8f4d958804ca1c77b3d7cd41b2108" title="A compile time cast that uses static casting conversion of the underlying raw pointers but only works...">CountedPtrStaticCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a>(<span class="keyword">static_cast&lt;</span>ReturnType*<span class="keyword">&gt;</span>(Original.GetReferenceCount())); }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">    /// @brief A Runtime cast that uses dynamic casting conversion of the underlying raw pointers but only works on internally reference count types</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">    /// @param ReturnType The type to be returned, must be specified</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">    /// @param OtherPointerTargetType The type of the provided pointer, this can be infered and should not be provided.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">    /// @param Original The pointer to convert.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">    /// @return Either a pointer of the desired or a 0 if casting is not possible.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ReturnType, <span class="keyword">typename</span> OtherPo<span class="keywordtype">int</span>erTargetType&gt;</div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="code" href="namespaceMezzanine.html#a5d26cc4afa9fedd9c998091d2d960784">  670</a></span>&#160;    <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a> <a class="code" href="namespaceMezzanine.html#a5d26cc4afa9fedd9c998091d2d960784" title="A Runtime cast that uses dynamic casting conversion of the underlying raw pointers but only works on ...">CountedPtrDynamicCast</a>(<a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;OtherPointerTargetType&gt;</a>&amp; Original)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        { <span class="keywordflow">return</span> <a class="code" href="classMezzanine_1_1CountedPtr.html" title="A simple reference counting pointer.">CountedPtr&lt;ReturnType&gt;</a>(<span class="keyword">dynamic_cast&lt;</span>ReturnType*<span class="keyword">&gt;</span>(Original.GetReferenceCount())); }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;} <span class="comment">// \Mezzanine</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#endif // _smartptr_h</span></div>
</div><!-- fragment --></div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 24 2013 00:40:11 for MezzanineEngine by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1</small></address>
</body>
</html>
